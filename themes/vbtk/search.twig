{% extends "_layout.twig" %}

{% block content %}
  <div class="column">
    <h1>{{results|length}} results for "{{query}}"</h1>
    <ul class="search-results">
    {% for result in results %}
      <li>
      {% if result.link starts with 'http' %}
        {% set link = result.link %}
      {% else %}
        {% set link = '/' ~ result.page.id|split('/')|first ~ '/' ~ result.link %}
      {% endif %}

      <a href="{{ link }}">
        {{ result.text }}
        <div>
          {{ result.page.id|replace({
            '-': ' ',
            '/': ' / '
          })|title }}
        </div>
      </a>
      </li>
    {% endfor %}
    </ul>
  </div>
{% endblock %}